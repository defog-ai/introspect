(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{9225:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return t(8154)}])},2427:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(5105),s=t(761),o=t.n(s);let n=()=>(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,r.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},2678:(e,a,t)=>{"use strict";t.d(a,{A:()=>d});var r=t(5105),s=t(8101),o=t(5922),n=t(7280),l=t(5337),i=t(4799);let d=e=>{let{id:a,userType:t,children:d,rootClassNames:c="",contentClassNames:m="max-h-full h-full",containerClassNames:f="flex flex-col md:min-h-screen relative container mx-auto"}=e,[h,u]=(0,s.useState)([]),g=(0,o.useRouter)(),x=e=>{g.push(e)},p=()=>{localStorage.removeItem("defogUser"),localStorage.removeItem("defogToken"),localStorage.removeItem("defogUserType"),x("/log-in")},y=(0,l.usePathname)();return(0,s.useEffect)(()=>{u(("admin"==t?[{title:"Admin",href:"#!",children:[{key:"manage-database",title:"Manage Database",href:"/extract-metadata"},{key:"align-model",title:"Align Model",href:"/align-model"}]},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:t?[{key:"query-data",title:"Query Data",href:"/query-data"},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:[]).map(e=>(e.current=e.href==y,e)).map(e=>(e.children&&(e.children=e.children.map(e=>(e.current=e.href==y,e))),e)))},[t]),(0,r.jsxs)("div",{className:(0,i.QP)(f,c),children:[h.length?(0,r.jsx)(n.jq,{rootClassNames:(0,i.QP)("border-b dark:border-dark-border","bg-white dark:bg-dark-bg-primary","text-primary-text dark:text-dark-text-primary"),items:h.map(e=>({...e,classNames:(0,i.QP)(e.classNames,"hover:bg-gray-100 dark:hover:bg-dark-hover",e.current&&"bg-gray-100 dark:bg-dark-hover")}))}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)("div",{className:m,children:d})]})}},8154:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var r=t(5105),s=t(8101),o=t(3504),n=t(2678),l=t(2427),i=t(7280),d=t(5922),c=t(6485);function m(){let e=(0,d.useRouter)(),[a,t]=(0,s.useState)(""),[m,f]=(0,s.useState)(""),[h,u]=(0,s.useState)([]),[g,x]=(0,s.useState)(!0),p=async()=>{let e=localStorage.getItem("defogToken")||"4adaf64ff68cd84fb8f3aa6366812cb8aa20a8cd8d1abd156d15d578bea6680a";if(!e){x(!1);return}try{let a=await fetch((c.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"")+"/get_db_names",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(!a.ok)throw Error("Failed to get api key names - are you sure your network is working?");let t=await a.json();u(t.db_names)}catch(e){console.error("Error fetching db names:",e)}finally{x(!1)}};return((0,s.useEffect)(()=>{let a=localStorage.getItem("defogToken")||"4adaf64ff68cd84fb8f3aa6366812cb8aa20a8cd8d1abd156d15d578bea6680a",r=localStorage.getItem("defogUserType");a?(f(r),t(a),p()):setTimeout(()=>{let a=window.location.pathname+window.location.search;e.push({pathname:"/log-in",query:{message:"You are not logged in. Please log in to access reports.",returnUrl:a}})},1500)},[e]),a||g)?!0===g?(0,r.jsx)(i.c5,{}):(0,r.jsxs)("div",{className:"h-screen",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)(n.A,{id:"query-data",userType:m,containerClassNames:"max-h-screen h-screen flex flex-col",contentClassNames:"h-full max-h-full",children:(0,r.jsx)(o.A5,{apiEndpoint:c.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"",token:a,initialDbNames:h})})]}):(0,r.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("div",{className:"text-center p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Not Logged In"}),(0,r.jsx)("p",{className:"mb-4",children:"You are not logged in. Redirecting to login page..."}),(0,r.jsx)(i.c5,{})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[848,894,645,504,636,593,792],()=>a(9225)),_N_E=e.O()}]);